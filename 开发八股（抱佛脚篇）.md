# Session和cookie

## cookie是什么

cookie是服务器发送到用户浏览器并保存在本地的一小块数据，它会在浏览器下次向同一服务器再发起请求时被携带并发送到服务器上。它主要被用在以下三个方面：

1. 会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的设置）
2. 个性化设置（如用户自定义设置、主题等）
3. 浏览器行为跟踪（如跟踪分析用户行为等）

## Session是什么

session代表着服务器和客户端一次会话的过程。Session对象存储特定用户会话所需的属性及配置信息。

## cookie和Session的区别

1. cookie保存在客户端，比较容易遭到不法获取，Session保存在服务端，安全性相比cookie要好一些
2. cookie只能存ASCII，保存的数据不能超过4K，Session可以存任意数据类型，且可存储的数据远高于cookie
3. cookie可设置为长时间保持，Session一般很快就失效

# TCP三次握手和四次挥手

## TCP三次握手的过程

![](https://cdn.xiaolincoding.com/gh/xiaolincoder/ImageHost4/%E7%BD%91%E7%BB%9C/TCP%E4%B8%89%E6%AC%A1%E6%8F%A1%E6%89%8B.drawio.png)



## 为什么是三次握手

因为三次握手才能保证双方具有接收和发送的能力。

如果是两次握手，则服务端不知道客户端是否具有接收的能力。

## 四次挥手的过程

![](https://imgconvert.csdnimg.cn/aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL3hpYW9saW5jb2Rlci9JbWFnZUhvc3QyLyVFOCVBRSVBMSVFNyVBRSU5NyVFNiU5QyVCQSVFNyVCRCU5MSVFNyVCQiU5Qy9UQ1AtJUU0JUI4JTg5JUU2JUFDJUExJUU2JThGJUExJUU2JTg5JThCJUU1JTkyJThDJUU1JTlCJTlCJUU2JUFDJUExJUU2JThDJUE1JUU2JTg5JThCLzMwLmpwZw?x-oss-process=image/format,png)

## 为什么是四次挥手？

需要双方都知道对方不再发送数据，所以双方都需要发送FIN和ACK，所以是四次挥手。

## 为什么需要等待2个MSL

1. MSL 是最大报文段寿命，等待 2MSL 可以保证 A 发送的最后一个确认报文被 B 接收，如果该报文丢失，B 会超时重传之前的 FIN+ACK 报文，保证 B 正常进入 CLOSED 状态。
2. 2MSL 后，本连接中的所有报文就都会从网络中消失，防止已失效请求造成异常。

## 滑动窗口是怎么变化的

滑动窗口分为发送窗口和接收窗口，发送窗口通过两个指针和一个窗口大小来决定其变化，第一个指针的前方是已发送但未收到ACK的数据，后方是已发送且已收到ACK的数据，第二个指针的前方是未发送且未收到ACK的数据，后方是已发送但未收到ACK的数据。当接受到新的ACK时，这两个指针就往前移动。

## TCP的拥塞控制是怎么做的？

慢启动（指数增长）→（到达阈值）→拥塞避免（线性增长）→（触发重传）→拥塞发生

超时重传→慢启动（指数增长）

快速重传→（阈值减半）→拥塞避免（线性增长）

## TCP和UDP的区别

